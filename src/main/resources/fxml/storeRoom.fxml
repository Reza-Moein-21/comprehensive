<?xml version="1.0" encoding="UTF-8"?>


<?import com.jfoenix.controls.*?>
<?import ir.comprehensive.component.Autocomplete?>
<?import ir.comprehensive.component.basetable.DataTable?>
<?import ir.comprehensive.component.datepicker.*?>
<?import ir.comprehensive.component.YesNoDialog?>
<?import ir.comprehensive.domain.*?>
<?import ir.comprehensive.model.ProductDeliveryModel?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.cell.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<VBox xmlns:fx="http://javafx.com/fxml/1" nodeOrientation="RIGHT_TO_LEFT"
      xmlns="http://javafx.com/javafx/8" fx:controller="ir.comprehensive.controller.StoreRoomController"

      AnchorPane.topAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.bottomAnchor="0.0">
    <fx:define>
        <ProductDeliveryModel fx:id="createModel" person="${autPersonC.value}" deliveryDate="${sdpDeliveryDateC.value}"
                              desiredDate="${sdpDesiredDateC.value}" description="${txfDescriptionC.text}"
                              receivedDate="${sdpReceivedDateC.value}"
                              status="${cmbStatusC.value}"/>
        <ProductDeliveryModel fx:id="searchModel" person="${autPersonS.value}"
                              deliveryDateFrom="${sdpDeliveryDateFromS.value}"
                              deliveryDateTo="${sdpDeliveryDateToS.value}"
                              receivedDateFrom="${sdpDeliveryDateFromS.value}"
                              receivedDateTo="${sdpDeliveryDateToS.value}"
                              status="${cmbStatusS.value}"/>
    </fx:define>
    <JFXDialog fx:id="dlgCreate" overlayClose="false" transitionType="TOP"
               style="-fx-background-color: rgba(33,33,33,0.51)" nodeOrientation="RIGHT_TO_LEFT">
        <VBox spacing="50" prefWidth="1024">
            <HBox alignment="CENTER"
                  style="-fx-border-width: 0 0 1 0;-fx-border-color: #223322;-fx-background-color: #29b6f6;-fx-padding: 10;">
                <Label text="%createProduct"/>
            </HBox>
            <VBox style="-fx-padding: 0 10;-fx-spacing: 100">
                <HBox spacing="10">
                    <Autocomplete fx:id="autPersonC" promptText="%person" labelFloat="true" prefWidth="500"/>
                    <JFXTextField fx:id="txfProductNameC" promptText="%productName" labelFloat="true" prefWidth="500"/>
                </HBox>
                <HBox spacing="10">
                    <SimpleDatePicker fx:id="sdpDeliveryDateC" promptText="%deliveryDate" prefWidth="500"/>
                    <SimpleDatePicker fx:id="sdpDesiredDateC" promptText="%desiredDate" prefWidth="500"/>

                </HBox>
                <JFXTextField fx:id="txfDescriptionC" promptText="%description" labelFloat="true"/>

                <HBox spacing="50">
                    <JFXComboBox fx:id="cmbStatusC" promptText="%productStatus" labelFloat="true" prefWidth="500">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <ProductStatus fx:value="UNKNOWN"/>
                                <ProductStatus fx:value="RECEIVED"/>
                                <ProductStatus fx:value="REJECTED"/>
                                <ProductStatus fx:value="LOST"/>
                            </FXCollections>
                        </items>
                    </JFXComboBox>
                    <SimpleDatePicker fx:id="sdpReceivedDateC" promptText="%receivedDate" prefWidth="500"/>
                </HBox>
            </VBox>
            <HBox style="-fx-alignment: top-right; -fx-spacing: 20;-fx-padding: 10">
                <JFXButton text="%cancel" onAction="#closeCreateDialog" styleClass="default-button"
                           buttonType="RAISED"/>
                <JFXButton text="%save" onAction="#save" styleClass="primary-button" buttonType="RAISED"/>
            </HBox>
        </VBox>
    </JFXDialog>
    <YesNoDialog fx:id="dlgDelete" overlayClose="false" transitionType="CENTER" nodeOrientation="RIGHT_TO_LEFT"/>
    <VBox spacing="10" style="-fx-padding: 50 0">
        <TilePane hgap="10" vgap="50">
            <Autocomplete fx:id="autPersonS" promptText="%person" labelFloat="true"/>
            <JFXTextField fx:id="txfProductNameS" promptText="%productName" labelFloat="true"/>
            <HBox spacing="10" style="-fx-border-width: 0 0 3 0;-fx-border-color: gray;">
                <SimpleDatePicker fx:id="sdpDeliveryDateFromS" promptText="%deliveryDateFrom"/>
                <SimpleDatePicker fx:id="sdpDeliveryDateToS" promptText="%deliveryDateTo"/>
            </HBox>
            <JFXComboBox fx:id="cmbStatusS" value="$unknownProduct" prefWidth="500" promptText="%productStatus" labelFloat="true">
                <fx:define>
                    <ProductStatus fx:id="unknownProduct" fx:value="UNKNOWN"/>
                </fx:define>
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <ProductStatus fx:value="UNKNOWN"/>
                        <ProductStatus fx:value="RECEIVED"/>
                        <ProductStatus fx:value="REJECTED"/>
                        <ProductStatus fx:value="LOST"/>
                    </FXCollections>
                </items>
            </JFXComboBox>
            <HBox fx:id="receivedDateFromToHBox" visible="false" spacing="10" style="-fx-border-width: 0 0 3 0;-fx-border-color: gray;">
                <SimpleDatePicker fx:id="sdpReceivedDateFromS" promptText="%receivedDateFrom"/>
                <SimpleDatePicker fx:id="sdpReceivedDateToS" promptText="%receivedDateTo"/>
            </HBox>
        </TilePane>

        <HBox alignment="CENTER_LEFT" nodeOrientation="LEFT_TO_RIGHT" spacing="10">
            <JFXButton text="%create" onAction="#showCreateDialog"
                       styleClass="primary-button,green-background"/>
            <JFXButton text="%search" styleClass="primary-button" onAction="#search"/>
        </HBox>

    </VBox>
    <DataTable fx:id="tblProductDelivery" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn text="%productName" minWidth="200" prefWidth="400">
                <cellValueFactory>
                    <PropertyValueFactory property="product"/>
                </cellValueFactory>
            </TableColumn>
            <TableColumn text="%fullName" minWidth="200" prefWidth="400">
                <cellValueFactory>
                    <PropertyValueFactory property="person"/>
                </cellValueFactory>
            </TableColumn>
            <TableColumn text="%deliveryDate" minWidth="300" prefWidth="400">
                <cellValueFactory>
                    <PropertyValueFactory property="deliveryDate"/>
                </cellValueFactory>
            </TableColumn>
            <TableColumn text="%desiredDate" minWidth="300" prefWidth="400">
                <cellValueFactory>
                    <PropertyValueFactory property="desiredDate"/>
                </cellValueFactory>
            </TableColumn>
            <TableColumn text="%receivedDate" minWidth="300" prefWidth="400">
                <cellValueFactory>
                    <PropertyValueFactory property="receivedDate"/>
                </cellValueFactory>
            </TableColumn>
            <TableColumn text="%description" minWidth="300" prefWidth="600">
                <cellValueFactory>
                    <PropertyValueFactory property="description"/>
                </cellValueFactory>
            </TableColumn>
        </columns>
    </DataTable>
</VBox>

